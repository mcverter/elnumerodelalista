
<html>
<head>
    <style>
        #days-ago {
            font-size: 125%;
            font-style: italic;
            color: red;
        }
        #list-day {
            font-size: 250%;
            font-weight: 700;
        }
        #list-number {
            font-size: 500%;
            font-weight: 900;
        }
        #main-container {
            text-align:center;
            border: 1px solid black;
        }
        .interstitial {
            color: blue;
            font-size: 125%;
        }
    </style>
    <script type="text/javascript" src="./date-fns_v1.3.0.js"></script>
</head>
<body>
<h1 style="text-align:center"> EL NUMERO DE LA LISTA </h1>
<div id="main-container">
    <div class="interstitial"> SOBRE </div>
    <div id="date-div">
        <div id="list-day"></div>
        <div id="days-ago"></div>
    </div>
    <div class="interstitial">EL NUMERO ES</div>
    <div id="list-number"></div>
</div>

<script type="text/javascript">
var list_number = 2280;
var day_of_number = '03';
var month_of_number = '04';
var year_of_number = '2019';


  /* We only care about date, not time. */
  var list_date = new Date(year_of_number + '-' + month_of_number + '-' + day_of_number + 'T12:00:00');
  var today = new Date(); //new Date().toJSON().slice(0,10) + 'T12:00:00');

  function inSpanish(date) {
    return date.toLocaleDateString('es-MX', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      }
    )
  }

  function numDaysAgo() {
    var days_difference = dateFns.differenceInCalendarDays(new Date(), list_date);
    if (days_difference === 0) {
      return "(hoy)";
    } else if (days_difference === 1) {
      return "(ayer)";
    } else {
      return "(hace " + days_difference + "dias)";
    }
  }

  function populateDivs() {
    var listDayDiv = document.getElementById("list-day");
    var listNumberDiv = document.getElementById("list-number");
    var daysAgoDiv = document.getElementById("days-ago");

    listDayDiv.innerText = inSpanish(list_date);
    listNumberDiv.innerText = list_number.toString();
    daysAgoDiv.innerText = numDaysAgo();
  }

  function reloadAfterInterval() {
      var interval =  3 * 1000;
      window.setTimeout(
	  function(){
	      if (dateFns.differenceInCalendarDays(
		  new Date(), list_date) !== 0) {
		  location.reload(true)
	      }
	  }, interval);
  }

  window.onload = function() {
    populateDivs();
    reloadAfterInterval();
  }

</script>
<div style="text-align:center">
<div>
    Hecho por EL LIBRO LIBRE
</div>
<div>
  <div>ESCRIBIME</div>
  <div>
    <div>
      <a href="mailto:roadrunner@waste.org">
	<img src="../writing/magon/roadrunnerAtWaste.JPG"/>
      </a>
    </div>
    <div>
      <a href="mailto:roadrunner@waste.org">
	roadrunner AT waste DOT org
      </a>
    </div>
  </div>
</div>
</div>
</body>
</html>
